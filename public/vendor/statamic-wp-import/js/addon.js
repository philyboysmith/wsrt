(()=>{"use strict";function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return e(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}const n=function(t,e,n,o,i,s,r,c){var u,a="function"==typeof t?t.options:t;if(e&&(a.render=e,a.staticRenderFns=n,a._compiled=!0),o&&(a.functional=!0),s&&(a._scopeId="data-v-"+s),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},a._ssrRegister=u):i&&(u=c?function(){i.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(a.functional){a._injectStyles=u;var h=a.render;a.render=function(t,e){return u.call(e),h(t,e)}}else{var l=a.beforeCreate;a.beforeCreate=l?[].concat(l,u):[u]}return{exports:t,options:a}}({props:{token:String},data:function(){return{exporting:!1,exported:!1,exportFailed:!1,exportError:null,importing:!1,imported:!1,importFailed:!1,importError:null,summary:null,showAllPages:!1,showCollections:[],showTaxonomies:[],counter:null,hours:0,minutes:0,seconds:0}},computed:{totalPages:function(){return this.summary.pages&&Object.keys(this.summary.pages).length},showPagesSection:function(){return this.summary&&this.summary.pages&&!this.importing&&!this.imported&&!this.importFailed},showCollectionsSection:function(){return this.summary&&this.summary.collections},showTaxonomiesSection:function(){return this.summary&&this.summary.taxonomies},totalEntries:function(){return this.calculateTotalEntries()}},mounted:function(){this.summary=window.ImportSummary},methods:{startImport:function(){var t=this;this.importing=!0,this.imported=!1,this.importFailed=!1,this.importError=null,this.$progress.start("wp-import"),this.startTimer(),fetch(cp_url("wp-import/import"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({_token:this.token,summary:this.summary})}).then((function(e){return t.importing=!1,e.ok?t.imported=!0:(t.importFailed=!0,t.importError=e.statusText+" ("+e.status+")"),t.$progress.complete("wp-import"),t.stopTimer(),e.json()})).then((function(t){console.log(t)}))},hasDuplicates:function(t){return!!this.duplicateCount(t)},duplicateCount:function(t){var e=0;return Object.keys(t).forEach((function(n){t[n].exists&&e++})),e},uncheckDuplicates:function(t){Object.keys(t).forEach((function(e){t[e].exists&&(t[e]._checked=!1)}))},uncheckAll:function(t){Object.keys(t).forEach((function(e){t[e]._checked=!1}))},checkAll:function(t){Object.keys(t).forEach((function(e){t[e]._checked=!0}))},size:function(t){return Object.keys(t).length},showCollection:function(e){this.showCollections.push(e),this.showCollections=t(new Set(this.showCollections))},hideCollection:function(t){this.showCollections=this.showCollections.filter((function(e){return e!==t}))},shouldShowCollection:function(t){return this.showCollections.includes(t)},showTaxonomy:function(e){this.showTaxonomies.push(e),this.showTaxonomies=t(new Set(this.showTaxonomies))},hideTaxonomy:function(t){this.showTaxonomies=this.showTaxonomies.filter((function(e){return e!==t}))},shouldShowTaxonomy:function(t){return this.showTaxonomies.includes(t)},calculateTotalEntries:function(){var t=this,e=0;return this.summary.pages&&Object.keys(this.summary.pages).forEach((function(n){t.summary.pages[n]._checked&&e++})),this.summary.collections&&Object.keys(this.summary.collections).forEach((function(n){Object.keys(t.summary.collections[n].entries).forEach((function(o){t.summary.collections[n].entries[o]._checked&&e++}))})),this.summary.taxonomies&&Object.keys(this.summary.taxonomies).forEach((function(n){Object.keys(t.summary.taxonomies[n].terms).forEach((function(o){t.summary.taxonomies[n].terms[o]._checked&&e++}))})),e},startTimer:function(){var t=this;this.minutes=this.checkSingleDigit(0),this.seconds=this.checkSingleDigit(0),this.counter=setInterval((function(){var e=new Date(0,0,0,parseInt(t.hours),parseInt(t.minutes),parseInt(t.seconds)+1);t.hours=e.getHours(),t.minutes=t.checkSingleDigit(e.getMinutes()),t.seconds=t.checkSingleDigit(e.getSeconds())}),1e3)},stopTimer:function(){clearInterval(this.counter)},checkSingleDigit:function(t){return("0"+t).slice(-2)}}},undefined,undefined,!1,null,null,null).exports;Statamic.booting((function(){Statamic.$components.register("wp-importer",n)}))})();